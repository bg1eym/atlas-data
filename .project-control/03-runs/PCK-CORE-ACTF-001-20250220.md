# Run Journal — PCK-CORE-ACTF-001

**Task:** Cross-Project ACTF Layer Bootstrap (PCK v4)

**Timestamp:** 2025-02-20

---

## 1. 变更摘要

| 文件/目录 | 变更 |
|-----------|------|
| `.project-control/06-iteration-memory/` | 新增（空目录 + .gitkeep） |
| `.project-control/07-critical-tests/` | 新增：test-matrix.json, structural-guard.sh, execution-sim.sh, failure-classifier.cjs, _exec_sim_probe.py, _exec_sim_write.py |
| `.project-control/04-gates/critical-tests.sh` | 新增 |
| `.project-control/04-gates/regress.sh` | 追加 critical-tests.sh 调用 |
| `.project-control/02-regressions/RG-ACTF-001-evidence-and-classifier.sh` | 新增 |
| `.project-control/00-ledger/PCK-CORE-ACTF-001/` | 新增 ledger |

---

## 2. Gate 输出原文

### Preflight

```
=== Preflight PASS ===
Latest ledger: PCK-CORE-ACTF-001
```

### Regress

```
RG-001 PASS: Version/identity evidence found in runtime
RG-ACTF-001 PASS
RG-ATLAS-001 PASS: No forbidden radar strings
RG-ATLAS-002: gateway logs exist but no fingerprint yet (invoke /atlas help to populate)
RG-ATLAS-002 PASS: build fingerprint format OK: build: 4359a0d PCK-ATLAS-004 oc-bind
RG-ATLAS-002 PASS: build fingerprint present and format valid
RG-ATLAS-003 PASS: No forbidden radar strings
RG-ATLAS-004 PASS: No forbidden radar strings
...
=== ACTF PASS ===
=== Regress PASS ===
```

### Convergence

```
=== Convergence PASS (contract unchanged) ===
```

### Critical Tests (单独运行)

```
{"timestamp":"...","host_os":"Darwin","pwd":"/Users/qiangguo/atlas-radar",...}
{"timestamp":"...","host_os":"probe_only","exit_code":null,...}
{"failure_mode":"OK","confidence":1,"signals":["all_checks_pass"],"recommended_fix":""}
=== ACTF PASS ===
```

---

## 3. 跳过记录

- 无 PCK_SKIP_ACTF 跳过

---

## 4. classification.json 示例

```json
{
  "failure_mode": "OK",
  "confidence": 1,
  "signals": ["all_checks_pass"],
  "recommended_fix": ""
}
```

失败时示例（ACTF_CMD="nonexistent_bin --version"）：

```json
{
  "failure_mode": "BINARY_NOT_FOUND",
  "confidence": 0.85,
  "signals": ["execution.stderr.enoent_or_not_found"],
  "recommended_fix": "Binary not found; check PATH or use absolute path"
}
```

---

## Failure Classification

failure_mode: OK
root_cause: 
recommended_fix:
